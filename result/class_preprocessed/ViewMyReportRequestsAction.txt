packag ncsu csc itrust action import java util calendar import java util list import ncsu csc itrust bean personnel bean import ncsu csc itrust bean report request bean import ncsu csc itrust dao factori import ncsu csc itrust dao mysql personnel import ncsu csc itrust dao mysql report request import ncsu csc itrust trust action class view report jsp user report public class view report request action privat long log privat report request report request privat personnel personnel privat factori factori set param factori factori creat action param log person view report request public view report request action factori factori long log log log report request factori report request personnel factori personnel factori factori return report current log return list report log throw trust public list report request bean report request request throw trust return report request report request request log return list report return list report throw trust public list report request bean report request throw trust return report request report request add report request list param patient patient report request return throw trust public long add report request long patient throw trust long report request add report request log patient calendar instanc time return approv report request list mail request approv param request throw trust public void approv report request long throw trust report request bean report request report request report request approv report request log calendar instanc time email util factori send email email app log request patient send mail regard approv request param admin admin approv request param hcp request param pid patient report return mail throw privat email email app long admin long hcp long pid throw patient bean patient factori patient pid email email email email set repli itrust email set list array list email email set subject report generat trust email set bodi string format dear trust health care provid submit request view full medic record trust administr approv time view report notifi choos view full hcp admin return email reject request list param reject request param comment whi request reject throw trust public void reject report request long string comment throw trust report request reject report request log calendar instanc time comment return request report param request report return request report throw trust public report request bean report request int throw trust return report request report request set view status report report view request param report throw trust public void set view int throw trust report request bean report request report request report request set view calendar instanc time email util factori send email email view approv request patient send mail regard request patient param admin admin approv request param hcp request param pid patient report return mail throw privat email email view long admin long hcp long pid throw patient bean patient factori patient pid email email email email set repli itrust email set list array list email email set subject report generat trust email set bodi string format dear trust health care provid chosen view full medic report approv trust administr report onli viewabl time longer avail full hcp admin return email status request param request return request status throw trust public string long status long throw trust string builder string builder report request bean report request report request status equal report request bean request personnel bean personnel personnel request append string format request request request date string full status equal report request bean view personnel bean personnel personnel request string full unknown null full full append string format request request request date string full append remov becaus caus unit test fail purpos append string format view view date string full return string 