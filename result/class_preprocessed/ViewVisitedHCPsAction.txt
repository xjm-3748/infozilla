packag ncsu csc itrust action import java util date import java util link hash map import java util list import java util array list import ncsu csc itrust bean personnel bean import ncsu csc itrust bean offic visit bean import ncsu csc itrust bean visit bean import ncsu csc itrust dao factori import ncsu csc itrust dao mysql patient import ncsu csc itrust dao mysql personnel import ncsu csc itrust dao mysql offic visit import ncsu csc itrust import ncsu csc itrust trust action class view visit jsp public class view visit action privat long patient privat personnel doc privat offic visit visit privat patient patient privat array list visit bean visit privat declar action declar action privat array list personnel bean filter list set default param factori factori creat action param log person view visit public view visit action factori factori long log patient log doc factori personnel visit factori offic visit patient factori patient visit array list visit bean declar action declar action factori log filter list array list personnel bean creat visit bean personnel bean offic visit date param personnel bean visit param visit date date visit empti string return visit bean throw privat visit bean visit bean personnel bean string visit date throw long hcpid visit bean visit bean visit bean visit bean set hcpid visit bean set full visit bean set date visit date visit bean set specialti specialti visit bean set addr street address street address citi state zip visit bean set design patient check declar patient hcpid return visit bean check personnel bean match set criteria param personnel bean check param check null empti string ignor param specialti specialti check null empti string ignor param zip zip code check null empti string ignor return true personnel bean match paramet fals otherwis privat boolean match personnel personnel bean string string specialti string zip null equal start return fals specialti null specialti equal specialti equal specialti return fals zip null zip equal zip equal zip return fals return true list visit design current user list option filter doctor specialti zip code param part doctor search null empti string accept doctor param specialti specialti doctor search null empti string accept doctor param zip zip code doctor search null empti string accept doctor return list visit bean repres visit design throw trust privat list visit bean visit string string specialti string zip throw trust visit case includ visit design patient group retriev differ combin list visit bean visit array list visit bean tri list offic visit bean ovlist visit offic visit patient offic visit provid link hash map long offic visit bean visit link hash map long offic visit bean offic visit bean ovlist long hcp visit key visit put els offic visit bean visit date date visit date date date visit date date befor date visit put visit offic visit bean visit valu long hcpid hcp personnel bean doc personnel hcpid match personnel specialti zip visit bean visit bean visit bean visit hcpid visit date str visit add visit bean design becaus design visit ensur alreadi list list personnel bean dhcps patient declar patient personnel bean dhcps match personnel specialti zip long hcpid alreadi visit list skip visit bean visit hcpid continu string date visit bean visit bean visit bean date visit add visit bean catch dbe throw trust dbe messag return visit return list visit design return list visit public list visit bean visit list visit bean visit tri visit visit null null null catch trust visit array list visit bean return visit return correspond visit bean param return public visit bean string visit bean visit bean visit bean bean visit equal bean bean break return set undeclar param undeclar return empti string throw trust public string undeclar string throw trust visit bean visit visit visit case compar case long mid long valu visit declar action undeclar mid string visit set design fals visit date compar remov visit return set declar param declar return empti string throw trust public string declar string throw trust boolean match fals visit bean visit visit visit case compar case match true long mid long valu visit patient check declar patient visit declar action declar mid string visit set design true match list personnel bean doclist doc personnel personnel bean ele doclist compar ele full visit bean visit bean visit bean visit bean visit bean set ele visit bean set ele full visit bean set date visit bean set specialti ele specialti visit bean set addr ele street address ele street address ele citi ele state ele zip visit bean set design true long mid long valu ele patient check declar patient mid declar action declar mid string visit add visit bean return check declar param mid check return true declar otherwis fals public boolean check declar long mid throw return patient check declar patient mid filter list specialti zip code param doc filter null empti string ignor param specialti filter specialti null empti string ignor param zip filter zip null empti string ignor return filter list public list visit bean filter list string string specialti string zip list visit bean visit tri visit visit specialti zip catch trust visit array list visit bean return visit 