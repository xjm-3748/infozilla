packag ncsu csc itrust action base import ncsu csc itrust dao factori import ncsu csc itrust dao mysql offic visit import ncsu csc itrust trust abstract class function common action relat insert edit offic visit becaus offic visit patient offic visit base action extend patient base action class whenev page onli requir patient offic visit pass constructor thrown valid kick user home page concret method creat class associ uniqu identifi offic visit identifi verifi correct exist veri similar link patient base action link personnel base action abstract public class offic visit base action extend patient base action privat static final long databas access object deal offic visit privat offic visit uniqu identifi offic visit action associ protect long default constructor param factori databas access object factori suppli runtim context param pid string patient string pass super constructor patient base action param string uniqu identifi offic visit string throw trust ani suppli paramet incorrect problem public offic visit base action factori factori string pid string string string throw trust super factori pid string factori offic visit check offic visit string construct action initi unsav argument constructor offic visit sentinel valu doe repres valid offic visit param factori param pid string throw trust public offic visit base action factori factori string pid string throw trust super factori pid string factori offic visit assert uniqu offic visit identifi exist associ patient databas param input presum identifi string return identifi long exist offic visit throw trust visit doe exist problem privat long check offic visit string input throw trust tri encod input long long valu input check offic visit exist pid return els throw trust offic visit patient pid doe exist catch number format throw trust offic visit number messag indic offic visit save return boolean indic save public boolean unsav return rais offic visit save otherwis doe noth throw trust protect void verifi save throw trust unsav throw trust perform action offic visit save obtain uniqu identifi offic visit action associ return long identifi public long return convert charact input string special charact equival represent explicit symbol becom greater symbol becom newlin feed becom param input string encod return encod string public string encod string input string str input replac str str replac str str replac return str 