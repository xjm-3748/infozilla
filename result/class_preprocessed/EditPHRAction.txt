packag ncsu csc itrust action import java util array list import java util list import ncsu csc itrust email util import ncsu csc itrust action base patient base action import ncsu csc itrust bean personnel bean import ncsu csc itrust bean allergi bean import ncsu csc itrust bean diagnosi bean import ncsu csc itrust bean email import ncsu csc itrust bean famili member bean import ncsu csc itrust bean health record import ncsu csc itrust bean offic visit bean import ncsu csc itrust bean patient bean import ncsu csc itrust bean procedur bean import ncsu csc itrust dao factori import ncsu csc itrust dao mysql allergi import ncsu csc itrust dao mysql famili import ncsu csc itrust dao mysql health record import ncsu csc itrust dao mysql code import ncsu csc itrust dao mysql offic visit import ncsu csc itrust dao mysql patient import ncsu csc itrust dao mysql procedur import ncsu csc itrust dao mysql personnel import ncsu csc itrust import ncsu csc itrust form valid import ncsu csc itrust health record import ncsu csc itrust trust import ncsu csc itrust risk chronic diseas mediat import ncsu csc itrust risk risk checker edit patient health record patient edit jsp author laurenhayward public class edit action extend patient base action privat factori factori privat patient patient privat allergi allergi privat famili famili privat health record privat offic visit privat code icd privat procedur proc privat chronic diseas mediat diseas mediat privat personnel personnel privat personnel bean privat patient bean patient privat email util emailutil super class valid patient param factori factori creat action param log current log user author action param pid string patient person health record ad throw trust throw throw health record public edit action factori factori long log string pid string throw trust super factori pid string patient factori patient allergi factori allergi famili factori famili factori health record factori offic visit icd factori code personnel factori personnel personnel personnel log patient patient patient pid proc factori procedur emailutil email util factori factori factori add allergi patient record param pid param descript return allergi ad messag list invalid field onli descript null throw throw trust public string updat allergi long pid string descript throw form valid allergi bean bean allergi bean bean set descript descript allergi bean valid abv allergi bean valid abv valid bean remov option medic selector allergi add allergi pid descript emailutil send email email return allergi ad return patient bean patient return patient bean throw trust public patient bean patient throw trust return patient patient pid return list allergi bean patient return list allergi bean throw trust public list allergi bean allergi throw trust return allergi allergi pid return list famili member bean patient return list famili member bean throw trust public list famili member bean famili throw trust list famili member bean fam array list famili member bean list famili member bean parent null parent famili parent pid fam add parent fam add famili sibl pid fam add famili children pid parent null list famili member bean grandpar array list famili member bean famili member bean parent parent grandpar add famili parent parent mid fam add grandpar famili member bean grandpar set relat grandpar return fam return list health record patient return throw trust public list health record health record throw trust list health record health record health record pid return health record return list offic visit bean return throw trust public list offic visit bean offic visit throw trust return offic visit pid return complet offic visit bean visit return throw trust public offic visit bean complet offic visit long visit throw trust return offic visit visit public list procedur bean procedur long visit throw return proc list visit return list diseas patient risk return list risk checker throw trust throw public list risk checker diseas risk throw health record trust diseas mediat chronic diseas mediat factori pid return diseas mediat diseas risk check famili member high blood pressur param member famili member check return true famili member high blood pressur fals record famili member doe high blood pressur throw trust public boolean doe famili member high famili member bean member throw trust list health record record health record member mid record size return fals health record record record record blood pressur systol record blood pressur diastol return true return fals check famili member high cholesterol param member famili member check return true famili member high cholesterol fals record famili member doe throw trust public boolean doe famili member high cholesterol famili member bean member throw trust list health record record health record member mid record size return fals health record record record record cholesterol record cholesterol return true return fals check famili member diabet param member famili member check return true famili member diabet fals record famili member doe throw trust public boolean doe famili member diabet famili member bean member throw trust list diagnosi bean diagnos patient diagnos member mid diagnos size return fals diagnosi bean diag diagnos diag code start return true return fals check famili member cancer param member famili member check return true famili member cancer fals record famili member doe throw trust public boolean doe famili member cancer famili member bean member throw trust list diagnosi bean diagnos patient diagnos member mid diagnos size return fals diagnosi bean diag diagnos diag code start return true return fals check famili member heart diseas param member famili member check return true famili member heart diseas fals record famili member doe throw trust public boolean doe famili member heart diseas famili member bean member throw trust list diagnosi bean diagnos patient diagnos member mid diagnos size return fals diagnosi bean diag diagnos diag code start return true return fals check famili member smoke param member famili member check return true famili member smoke fals record famili member doe throw trust public boolean famili member smoker famili member bean member throw trust list health record record health record member mid record size return fals health record record record record smoker return true return fals check famili member dead return caus death param member famili member check return caus death otherwis null throw trust public string famili member famili member bean member throw trust patient bean patient patient patient member mid patient caus death null return diagnosi bean diag icd code patient caus death diag null return return diag descript creat fake mail notifi user record alter return mail throw privat email email throw email email email list patient bean rep patient repres patient list string addr array list string addr add patient email patient bean rep addr add email email set repli itrust email set list addr patient person repres email set subject string format medic record alter email set bodi health care profession full alter medic record list design health care profession return email 