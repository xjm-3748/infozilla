packag ncsu csc itrust dao mysql import java sql connect import java sql prepar statement import java sql result set import java sql import java util list import ncsu csc itrust util import ncsu csc itrust bean email import ncsu csc itrust bean loader email bean loader import ncsu csc itrust dao factori import ncsu csc itrust stand databas access object intend reflect databas tabl databas time complex set queri extra ad assum data valid correct setter ani paramet constructor factori access factori link factori everi factori obtain connect access author andi public class fake email privat factori factori privat email bean loader email bean loader email bean loader typic constructor param factori link factori associ obtain connect public fake email factori factori factori factori return email insert databas return java util list email object repres fake mail throw public list email email throw connect conn null prepar statement null tri conn factori connect conn prepar statement fake email ad date result set execut queri return email bean loader load list catch print stack trace throw final util close connect conn return email person param email email address string return java util list fake email throw public list email email person string email throw connect conn null prepar statement null tri conn factori connect conn prepar statement fake email addr ad date set string email result set execut queri return email bean loader load list catch print stack trace throw final util close connect conn send email insert databas param email email object insert throw public void send email record email email throw connect conn null prepar statement null tri conn factori connect conn prepar statement fake email addr addr subject bodi email bean loader load paramet email execut updat catch print stack trace throw final util close connect conn return list email string substr bodi param string string search bodi return java util list fake email throw public list email email bodi string bodi substr throw connect conn null prepar statement null tri conn factori connect conn prepar statement fake email instr bodi ad date set string bodi substr result set execut queri return email bean loader load list catch print stack trace throw final util close connect conn 