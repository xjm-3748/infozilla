packag ncsu csc itrust action import java sql timestamp import java text date format import java text simpl date format import java util date import java util list import ncsu csc itrust bean personnel bean import ncsu csc itrust bean transact bean import ncsu csc itrust dao factori import ncsu csc itrust dao mysql auth import ncsu csc itrust dao mysql patient import ncsu csc itrust dao mysql transact import ncsu csc itrust enum transact type import ncsu csc itrust import ncsu csc itrust form valid handl retriev log record access user view access log jsp author laurenhayward public class activ feed action privat transact tran privat patient patient privat auth auth privat long log set param factori factori creat action param log person retriev log public activ feed action factori factori long log log log tran factori transact auth factori auth patient factori patient return list transact bean date pass param param number page log entri retriev return list transact bean throw throw form valid public list transact bean transact date time int throw form valid list personnel bean dlhcps patient declar log user exist filter result long dlhcp dlhcps empti dlhcp dlhcps list transact bean full list tran transact affect log dlhcp time return full list return indic number day current date date pass paramet return date day date pass yesterday otherwis param date param date return depend differ date public static int date int day date format sdf simpl date format yyyi date date sdf format equal sdf format return set time time day sdf format equal sdf format return return pull action phrase associ transact type enum form english sentenc actor action timestamp param actor param timestamp param code return public string messag sentenc string actor timestamp timestamp transact type code string result actor transact type type transact type valu code code type code type patient viewabl result type action phrase simpl date format formatt simpl date format mma switch date timestamp time case result today break case result yesterday break case date format sdf simpl date format yyyi result sdf format date timestamp time break result formatt format timestamp return replac result privat string replac string activ tri return activ replac auth user log catch return activ 