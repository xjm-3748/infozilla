packag ncsu csc itrust dao mysql import java sql connect import java sql prepar statement import java sql result set import java sql import java text pars import java text simpl date format import java util date import java util list import ncsu csc itrust util import ncsu csc itrust bean advers event bean import ncsu csc itrust bean loader advers event bean loader import ncsu csc itrust dao factori import ncsu csc itrust import java sql timestamp log mechan stand databas access object intend reflect databas tabl databas time complex set queri extra ad assum data valid correct setter ani paramet constructor factori access factori link factori everi factori obtain connect access author andi public class advers event privat factori factori privat advers event bean loader loader typic constructor param factori link factori associ obtain connect public advers event factori factori factori factori loader advers event bean loader advers event report user param mid user return java util list advers event bean throw throw public list advers event bean report long mid throw connect conn null prepar statement null tri conn factori connect conn prepar statement advers event patient set long mid result set execut queri list advers event bean list loader load list return list catch print stack trace throw final util close connect conn add messag databas param bean bean repres messag ad throw throw public void add report advers event bean bean long hcpmid throw connect conn null prepar statement null tri conn factori connect conn prepar statement advers event patient pres immu code comment prescrib status set string bean set string bean drug set string bean code set string bean descript set long hcpmid set string activ execut updat catch print stack trace throw final util close connect conn public long int throw connect conn null prepar statement null tri conn factori connect conn prepar statement advers event set int result set execut queri long hcp hcp long prescrib return hcp catch print stack trace throw final util close connect conn public advers event bean report int throw connect conn null prepar statement null tri conn factori connect conn prepar statement advers event set int result set execut queri list advers event bean list loader load list return list catch print stack trace throw final util close connect conn public long remov report int throw connect conn null prepar statement null tri conn factori connect conn prepar statement advers event status string remov remov set string remov set int execut updat long util insert conn return catch print stack trace throw final util close connect conn public list advers event bean unremov advers event code string code throw connect conn null prepar statement null tri conn factori connect conn prepar statement adverseev code status set string code set string activ result set execut queri return loader load list catch print stack trace throw final util close connect conn public string code string code throw connect conn null prepar statement null tri conn factori connect conn prepar statement pres immu adverseev code set string code result set execut queri return string pres immu return catch print stack trace throw final util close connect conn public list advers event bean perscript string start string throw pars connect conn null prepar statement null tri simpl date format fmt simpl date format yyy date fmt pars start date fmt pars conn factori connect code code advers event code conn prepar statement advers event code advers event time log advers event time log code code advers event code advers event code advers event time log set timestamp timestamp time set timestamp timestamp time result set execut queri list advers event bean list loader load list return list catch print stack trace throw final util close connect conn public list advers event bean immun string start string throw pars connect conn null prepar statement null tri simpl date format fmt simpl date format yyy date fmt pars start date fmt pars conn factori connect code code advers event code conn prepar statement advers event code advers event time log advers event time log code code advers event code advers event code advers event time log set timestamp timestamp time set timestamp timestamp time result set execut queri list advers event bean list loader load list return list catch print stack trace throw final util close connect conn 