packag ncsu csc itrust action import java text pars import java text simpl date format import java util date import java util list import ncsu csc itrust bean patient bean import ncsu csc itrust bean personnel bean import ncsu csc itrust bean transact bean import ncsu csc itrust dao factori import ncsu csc itrust dao mysql patient import ncsu csc itrust dao mysql transact import ncsu csc itrust import ncsu csc itrust form valid import ncsu csc itrust trust handl retriev log record access user view access log jsp author laurenhayward public class view access log action privat transact tran privat patient patient privat long log set param factori factori creat action param log person retriev log public view access log action factori factori long log log log tran factori transact patient factori patient return list transact bean date pass param param date date param upper date date return list transact bean throw throw form valid public list transact bean access string date string upper date string log boolean role throw trust form valid list transact bean access store log entri list personnel bean dlhcps medic depend sign user select user sign user depend user doesn access log list patient bean patient relat repres log long mid log tri mid long pars long log catch dlhcps patient declar mid boolean mid scope fals patient bean patient relat mid mid scope true mid log mid scope select user form scope shown user throw form valid log view user exist filter result long dlhcp dlhcps empti dlhcp dlhcps date null upper date null return tran record access mid dlhcp role tri date simpl date format yyyi pars date date upper simpl date format yyyi pars upper date upper throw form valid start date befor date access tran record access mid dlhcp upper role catch pars throw form valid enter date yyyi return access return date transact list pass param list empti otherwis return today date param access java util list transact bean access return string repres date transact public string default start list transact bean access string start date access size start date simpl date format yyyi format date access access size time log time els start date simpl date format yyyi format date return start date return date transact list pass param list empti otherwis return today date param access java util list transact bean store access return string represent date transact public string default list transact bean access string date access size date simpl date format yyyi format date access time log time els date simpl date format yyyi format date return date return list patient pid repres param pid personnel represente return list patient bean throw trust public list patient bean repres long pid throw trust return patient repres pid 